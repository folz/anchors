!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/dom"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","react","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.FloatingUIDOM,e.React,e.ReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var u=o(n),i=o(r);var f="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function c(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!=r--;)if(!c(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!c(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function a(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function l(e,t){const n=a(e);return Math.round(t*n)/n}Object.defineProperty(e,"autoPlacement",{enumerable:!0,get:function(){return t.autoPlacement}}),Object.defineProperty(e,"autoUpdate",{enumerable:!0,get:function(){return t.autoUpdate}}),Object.defineProperty(e,"computePosition",{enumerable:!0,get:function(){return t.computePosition}}),Object.defineProperty(e,"detectOverflow",{enumerable:!0,get:function(){return t.detectOverflow}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t.flip}}),Object.defineProperty(e,"getOverflowAncestors",{enumerable:!0,get:function(){return t.getOverflowAncestors}}),Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return t.hide}}),Object.defineProperty(e,"inline",{enumerable:!0,get:function(){return t.inline}}),Object.defineProperty(e,"limitShift",{enumerable:!0,get:function(){return t.limitShift}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}}),Object.defineProperty(e,"shift",{enumerable:!0,get:function(){return t.shift}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t.size}}),e.arrow=e=>({name:"arrow",options:e,fn(n){const{element:r,padding:o}="function"==typeof e?e(n):e;return r&&(u=r,{}.hasOwnProperty.call(u,"current"))?null!=r.current?t.arrow({element:r.current,padding:o}).fn(n):{}:r?t.arrow({element:r,padding:o}).fn(n):{};var u}}),e.useFloating=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:o=[],elements:{reference:s,floating:d}={},transform:p=!0,whileElementsMounted:m,open:g}=e,[y,b]=u.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[O,P]=u.useState(o);c(O,o)||P(o);const[w,j]=u.useState(null),[h,v]=u.useState(null),M=u.useCallback((e=>{e!=k.current&&(k.current=e,j(e))}),[j]),R=u.useCallback((e=>{e!==D.current&&(D.current=e,v(e))}),[v]),S=s||w,x=d||h,k=u.useRef(null),D=u.useRef(null),q=u.useRef(y),A=function(e){const t=u.useRef(e);return f((()=>{t.current=e})),t}(m),C=u.useCallback((()=>{if(!k.current||!D.current)return;const e={placement:n,strategy:r,middleware:O},o={...t.computePosition(k.current,D.current,e),isPositioned:!0};E.current&&!c(q.current,o)&&(q.current=o,queueMicrotask((()=>{i.flushSync((()=>{b(o)}))})))}),[O,n,r]);f((()=>{!1===g&&q.current.isPositioned&&(q.current.isPositioned=!1,b((e=>({...e,isPositioned:!1}))))}),[g]);const E=u.useRef(!1);f((()=>(E.current=!0,()=>{E.current=!1})),[]),f((()=>{if(S&&(k.current=S),x&&(D.current=x),S&&x){if(A.current)return A.current(S,x,C);C()}}),[S,x,C,A]);const F=u.useMemo((()=>({reference:k,floating:D,setReference:M,setFloating:R})),[M,R]),U=u.useMemo((()=>({reference:S,floating:x})),[S,x]),z=u.useMemo((()=>{const e={position:r,left:0,top:0};if(!U.floating)return e;const t=l(U.floating,y.x),n=l(U.floating,y.y);return p?{...e,transform:"translate("+t+"px, "+n+"px)",...a(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,p,U.floating,y.x,y.y]);return u.useMemo((()=>({...y,update:C,refs:F,elements:U,floatingStyles:z})),[y,C,F,U,z])}}));
