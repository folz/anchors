!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FloatingUIDOM={})}(this,(function(t){"use strict";function e(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function n(t){return e(t).getComputedStyle(t)}function o(t){return t instanceof e(t).Node}function i(t){return o(t)?(t.nodeName||"").toLowerCase():"#document"}function r(t){return t instanceof e(t).HTMLElement}function l(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){const{overflow:e,overflowX:o,overflowY:i,display:r}=n(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+o)&&!["inline","contents"].includes(r)}function s(t){return["table","td","th"].includes(i(t))}function f(t){const e=a(),o=n(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function a(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function u(t){return["html","body","#document"].includes(i(t))}const d=Math.min,h=Math.max,m=Math.round,p=Math.floor,g=t=>({x:t,y:t});function y(t){const e=n(t);let o=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const l=r(t),c=l?t.offsetWidth:o,s=l?t.offsetHeight:i,f=m(o)!==c||m(i)!==s;return f&&(o=c,i=s),{width:o,height:i,$:f}}function x(t){return t instanceof e(t).Element}function w(t){return x(t)?t:t.contextElement}function v(t){const e=w(t);if(!r(e))return g(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:l}=y(e);let c=(l?m(n.width):n.width)/o,s=(l?m(n.height):n.height)/i;return c&&Number.isFinite(c)||(c=1),s&&Number.isFinite(s)||(s=1),{x:c,y:s}}const b=g(0);function A(t,n,o){var i,r;if(void 0===n&&(n=!0),!a())return b;const l=t?e(t):window;return!o||n&&o!==l?b:{x:(null==(i=l.visualViewport)?void 0:i.offsetLeft)||0,y:(null==(r=l.visualViewport)?void 0:r.offsetTop)||0}}function L(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function T(t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1);const r=t.getBoundingClientRect(),l=w(t);let c=g(1);n&&(i?x(i)&&(c=v(i)):c=v(t));const s=A(l,o,i);let f=(r.left+s.x)/c.x,a=(r.top+s.y)/c.y,u=r.width/c.x,d=r.height/c.y;if(l){const t=e(l),n=i&&x(i)?e(i):i;let o=t.frameElement;for(;o&&i&&n!==t;){const t=v(o),n=o.getBoundingClientRect(),i=getComputedStyle(o),r=n.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,l=n.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;f*=t.x,a*=t.y,u*=t.x,d*=t.y,f+=r,a+=l,o=e(o).frameElement}}return L({width:u,height:d,x:f,y:a})}function R(t){return((o(t)?t.ownerDocument:t.document)||window.document).documentElement}function S(t){if("html"===i(t))return t;const e=t.assignedSlot||t.parentNode||l(t)&&t.host||R(t);return l(e)?e.host:e}function C(t){const e=S(t);return u(e)?t.ownerDocument?t.ownerDocument.body:t.body:r(e)&&c(e)?e:C(e)}function P(t,n){var o;void 0===n&&(n=[]);const i=C(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),l=e(i);return r?n.concat(l,l.visualViewport||[],c(i)?i:[]):n.concat(i,P(i))}function D(t){return t.split("-")[1]}function E(t){return"y"===t?"height":"width"}function F(t){return t.split("-")[0]}function H(t){return["top","bottom"].includes(F(t))?"x":"y"}function O(t,e,n){let{reference:o,floating:i}=t;const r=o.x+o.width/2-i.width/2,l=o.y+o.height/2-i.height/2,c=H(e),s=E(c),f=o[s]/2-i[s]/2,a="x"===c;let u;switch(F(e)){case"top":u={x:r,y:o.y-i.height};break;case"bottom":u={x:r,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:l};break;case"left":u={x:o.x-i.width,y:l};break;default:u={x:o.x,y:o.y}}switch(D(e)){case"start":u[c]-=f*(n&&a?-1:1);break;case"end":u[c]+=f*(n&&a?-1:1)}return u}function k(t){return r(t)&&"fixed"!==n(t).position?t.offsetParent:null}function W(t){const o=e(t);if(!r(t))return o;let l=k(t);for(;l&&s(l)&&"static"===n(l).position;)l=k(l);return l&&("html"===i(l)||"body"===i(l)&&"static"===n(l).position&&!f(l))?o:l||function(t){let e=S(t);for(;r(e)&&!u(e);){if(f(e))return e;e=S(e)}return null}(t)||o}function B(t){return x(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function z(t){return T(R(t)).left+B(t).scrollLeft}function M(t,e,n){const o=r(e),l=R(e),s="fixed"===n,f=T(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=g(0);if(o||!o&&!s)if(("body"!==i(e)||c(l))&&(a=B(e)),r(e)){const t=T(e,!0,s,e);u.x=t.x+e.clientLeft,u.y=t.y+e.clientTop}else l&&(u.x=z(l));return{x:f.left+a.scrollLeft-u.x,y:f.top+a.scrollTop-u.y,width:f.width,height:f.height}}const V=function(t){let{reference:e,floating:n,strategy:o}=t;return{reference:M(e,W(n),o),floating:{x:0,y:0,...y(n)}}};function N(t){return"rtl"===getComputedStyle(t).direction}function I(t){let{rect:e,offsetParent:n,strategy:o}=t;const l=r(n),s=R(n);if(n===s)return e;let f={scrollLeft:0,scrollTop:0},a=g(1);const u=g(0);if((l||!l&&"fixed"!==o)&&(("body"!==i(n)||c(s))&&(f=B(n)),r(n))){const t=T(n);a=v(n),u.x=t.x+n.clientLeft,u.y=t.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-f.scrollLeft*a.x+u.x,y:e.y*a.y-f.scrollTop*a.y+u.y}}function j(t,e){return"function"==typeof t?t(e):t}function q(t,o,i){let l;if("viewport"===o)l=function(t,n){const o=e(t),i=R(t),r=o.visualViewport;let l=i.clientWidth,c=i.clientHeight,s=0,f=0;if(r){l=r.width,c=r.height;const t=a();(!t||t&&"fixed"===n)&&(s=r.offsetLeft,f=r.offsetTop)}return{width:l,height:c,x:s,y:f}}(t,i);else if("document"===o)l=function(t){const e=R(t),o=B(t),i=t.ownerDocument.body,r=h(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=h(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-o.scrollLeft+z(t);const s=-o.scrollTop;return"rtl"===n(i).direction&&(c+=h(e.clientWidth,i.clientWidth)-r),{width:r,height:l,x:c,y:s}}(R(t));else if(x(o))l=function(t,e){const n=T(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,l=r(t)?v(t):g(1);return{width:t.clientWidth*l.x,height:t.clientHeight*l.y,x:i*l.x,y:o*l.y}}(o,i);else{const e=A(t);l={...o,x:o.x-e.x,y:o.y-e.y}}return L(l)}function U(t,e){const o=S(t);return!(o===e||!x(o)||u(o))&&("fixed"===n(o).position||U(o,e))}function X(t){let{element:e,boundary:o,rootBoundary:r,strategy:l,_c:s}=t;const a="clippingAncestors"===o?function(t,e){const o=e.get(t);if(o)return o;let r=P(t).filter((t=>x(t)&&"body"!==i(t))),l=null;const s="fixed"===n(t).position;let a=s?S(t):t;for(;x(a)&&!u(a);){const e=n(a),o=f(a);o||"fixed"!==e.position||(l=null),(s?!o&&!l:!o&&"static"===e.position&&l&&["absolute","fixed"].includes(l.position)||c(a)&&!o&&U(t,a))?r=r.filter((t=>t!==a)):l=e,a=S(a)}return e.set(t,r),r}(e,s):[].concat(o),m=[...a,r],p=m[0],g=m.reduce(((t,n)=>{const o=q(e,n,l);return t.top=h(o.top,t.top),t.right=d(o.right,t.right),t.bottom=d(o.bottom,t.bottom),t.left=h(o.left,t.left),t}),q(e,p,l));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Y(t){return"number"!=typeof t?{top:0,right:0,bottom:0,left:0,...t}:{top:t,right:t,bottom:t,left:t}}function $(t,e){void 0===e&&(e={});const{x:n,y:o,rects:i,elements:r,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:s="viewport",elementContext:f="floating",altBoundary:a=!1,padding:u=0}=j(e,t),d=Y(u),h=r[a?"floating"===f?"reference":"floating":f],m=L(X({element:x(h)?h:h.contextElement||R(r.floating),boundary:c,rootBoundary:s,strategy:l,_c:new Map})),p="floating"===f?{...i.floating,x:n,y:o}:i.reference,g=W(r.floating),y=null!=x&&x(g)&&v(g)||{x:1,y:1},w=L(I({rect:p,offsetParent:g,strategy:l}));return{top:(m.top-w.top+d.top)/y.y,bottom:(w.bottom-m.bottom+d.bottom)/y.y,left:(m.left-w.left+d.left)/y.x,right:(w.right-m.right+d.right)/y.x}}function _(t){return Array.from(t.getClientRects())}function G(t,e,n){return h(t,d(e,n))}const J=["top","right","bottom","left"],K={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(t){return t.replace(/left|right|bottom|top/g,(t=>K[t]))}function Z(t,e,n){void 0===n&&(n=!1);const o=D(t),i=H(t),r=E(i);let l="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=Q(l)),{main:l,cross:Q(l)}}const tt={start:"end",end:"start"};function et(t){return t.replace(/start|end/g,(t=>tt[t]))}const nt=J.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]);function ot(t,e,n){return(t?[...n.filter((e=>D(e)===t)),...n.filter((e=>D(e)!==t))]:n.filter((t=>F(t)===t))).filter((n=>!t||(D(n)===t||!!e&&et(n)!==n)))}function it(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rt(t){return J.some((e=>t[e]>=0))}function lt(t){const e=d(...t.map((t=>t.left))),n=d(...t.map((t=>t.top)));return{x:e,y:n,width:h(...t.map((t=>t.right)))-e,height:h(...t.map((t=>t.bottom)))-n}}function ct(t){return"x"===t?"y":"x"}t.allPlacements=nt,t.arrow=t=>({name:"arrow",options:t,fn(e){const{x:n,y:o,placement:i,rects:r,elements:l}=e,{element:c,padding:s=0}=j(t,e)||{};if(null==c)return{};const f=Y(s),a={x:n,y:o},u=H(i),h=E(u),m=y(c),p="y"===u,g=p?"top":"left",w=p?"bottom":"right",v=p?"clientHeight":"clientWidth",b=r.reference[h]+r.reference[u]-a[u]-r.floating[h],A=a[u]-r.reference[u],L=W(c);let T=L?L[v]:0;T&&x(L)||(T=l.floating[v]||r.floating[h]);const R=b/2-A/2,S=T/2-m[h]/2-1,C=d(f[g],S),P=d(f[w],S),F=C,O=T-m[h]-P,k=T/2-m[h]/2+R,B=G(F,k,O),z=null!=D(i)&&k!=B&&r.reference[h]/2-(k<F?C:P)-m[h]/2<0?k<F?F-k:O-k:0;return{[u]:a[u]-z,data:{[u]:B,centerOffset:k-B+z}}}}),t.autoPlacement=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,fn(e){var n,o,i;const{rects:r,middlewareData:l,placement:c,elements:s}=e,{crossAxis:f=!1,alignment:a,allowedPlacements:u=nt,autoAlignment:d=!0,...h}=j(t,e),m=void 0!==a||u===nt?ot(a||null,d,u):u,p=$(e,h),g=(null==(n=l.autoPlacement)?void 0:n.index)||0,y=m[g];if(null==y)return{};const{main:x,cross:w}=Z(y,r,N(s.floating));if(c!==y)return{reset:{placement:m[0]}};const v=[p[F(y)],p[x],p[w]],b=[...(null==(o=l.autoPlacement)?void 0:o.overflows)||[],{placement:y,overflows:v}],A=m[g+1];if(A)return{data:{index:g+1,overflows:b},reset:{placement:A}};const L=b.map((t=>{const e=D(t.placement);return[t.placement,e&&f?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),T=(null==(i=L.filter((t=>t[2].slice(0,D(t[0])?2:3).every((t=>t<=0))))[0])?void 0:i[0])||L[0][0];return T!==c?{data:{index:g+1,overflows:b},reset:{placement:T}}:{}}}},t.autoUpdate=function(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:c="function"==typeof IntersectionObserver,animationFrame:s=!1}=o,f=w(t),a=i||r?[...f?P(f):[],...P(e)]:[];a.forEach((t=>{i&&t.addEventListener("scroll",n,{passive:!0}),r&&t.addEventListener("resize",n)}));const u=f&&c?function(t,e){let n,o=null;const i=R(t);function r(){clearTimeout(n),o&&o.disconnect(),o=null}return function l(c,s){void 0===c&&(c=!1),void 0===s&&(s=1),r();const{left:f,top:a,width:u,height:m}=t.getBoundingClientRect();if(c||e(),!u||!m)return;const g={rootMargin:-p(a)+"px "+-p(i.clientWidth-(f+u))+"px "+-p(i.clientHeight-(a+m))+"px "+-p(f)+"px",threshold:h(0,d(1,s))||1};let y=!0;function x(t){const e=t[0].intersectionRatio;if(e!==s){if(!y)return l();e?l(!1,e):n=setTimeout((()=>{l(!1,1e-7)}),100)}y=!1}try{o=new IntersectionObserver(x,{...g,root:i.ownerDocument})}catch(t){o=new IntersectionObserver(x,g)}o.observe(t)}(!0),r}(f,n):null;let m,g=-1,y=null;l&&(y=new ResizeObserver((t=>{let[o]=t;o&&o.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{y&&y.observe(e)}))),n()})),f&&!s&&y.observe(f),y.observe(e));let x=s?T(t):null;return s&&function e(){const o=T(t);!x||o.x===x.x&&o.y===x.y&&o.width===x.width&&o.height===x.height||n();x=o,m=requestAnimationFrame(e)}(),n(),()=>{a.forEach((t=>{i&&t.removeEventListener("scroll",n),r&&t.removeEventListener("resize",n)})),u&&u(),y&&y.disconnect(),y=null,s&&cancelAnimationFrame(m)}},t.computePosition=function(t,e,n){void 0===n&&(n={});const{placement:o="bottom",strategy:i="absolute",middleware:r=[]}=n,l=r.filter(Boolean),c=N(e);let s=V({reference:t,floating:e,strategy:i}),{x:f,y:a}=O(s,o,c),u=o,d={},h=0;for(let n=0;n<l.length;n++){const{name:r,fn:m}=l[n],{x:p,y:g,data:y,reset:x}=m({x:f,y:a,initialPlacement:o,placement:u,strategy:i,middlewareData:d,rects:s,elements:{reference:t,floating:e}});f=null!=p?p:f,a=null!=g?g:a,d={...d,[r]:{...d[r],...y}},x&&h<=50&&(h++,"object"==typeof x&&(x.placement&&(u=x.placement),x.rects&&(s=!0===x.rects?V({reference:t,floating:e,strategy:i}):x.rects),({x:f,y:a}=O(s,u,c))),n=-1)}return{x:f,y:a,placement:u,strategy:i,middlewareData:d}},t.convertOffsetParentRelativeRectToViewportRelativeRect=I,t.detectOverflow=$,t.flip=function(t){return void 0===t&&(t={}),{name:"flip",options:t,fn(e){var n;const{placement:o,middlewareData:i,rects:r,initialPlacement:l,elements:c}=e,{mainAxis:s=!0,crossAxis:f=!0,fallbackPlacements:a,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...m}=j(t,e),p=F(o),g=F(l)===l,y=N(c.floating),x=a||(g||!h?[Q(l)]:function(t){const e=Q(t);return[et(t),e,et(e)]}(l));a||"none"===d||x.push(...function(t,e,n,o){const i=D(t);let r=function(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:l;default:return[]}}(F(t),"start"===n,o);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(et)))),r}(l,h,d,y));const w=[l,...x],v=$(e,m),b=[];let A=(null==(n=i.flip)?void 0:n.overflows)||[];if(s&&b.push(v[p]),f){const{main:t,cross:e}=Z(o,r,y);b.push(v[t],v[e])}if(A=[...A,{placement:o,overflows:b}],!b.every((t=>t<=0))){var L,T;const t=((null==(L=i.flip)?void 0:L.index)||0)+1,e=w[t];if(e)return{data:{index:t,overflows:A},reset:{placement:e}};let n=null==(T=A.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:T.placement;if(!n)switch(u){case"bestFit":{var R;const t=null==(R=A.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:R[0];t&&(n=t);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},t.getClientRects=_,t.getClippingRect=X,t.getDocumentElement=R,t.getElementRects=V,t.getOffsetParent=W,t.getOverflowAncestors=P,t.getPlacementList=ot,t.getScale=v,t.hide=function(t){return void 0===t&&(t={}),{name:"hide",options:t,fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...i}=j(t,e);switch(o){case"referenceHidden":{const t=it($(e,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:rt(t)}}}case"escaped":{const t=it($(e,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:rt(t)}}}default:return{}}}}},t.inline=function(t){return void 0===t&&(t={}),{name:"inline",options:t,fn(e){const{placement:n,elements:o,rects:i,strategy:r}=e,{padding:l=2,x:c,y:s}=j(t,e),f=Array.from(_(o.reference)||[]),a=function(t){const e=t.slice().sort(((t,e)=>t.y-e.y)),n=[];let o=null;for(let t=0;t<e.length;t++){const i=e[t];!o||i.y-o.y>o.height/2?n.push([i]):n[n.length-1].push(i),o=i}return n.map((t=>L(lt(t))))}(f),u=L(lt(f)),m=Y(l);const p=V({reference:{getBoundingClientRect:function(){if(2===a.length&&a[0].left>a[1].right&&null!=c&&null!=s)return a.find((t=>c>t.left-m.left&&c<t.right+m.right&&s>t.top-m.top&&s<t.bottom+m.bottom))||u;if(a.length>=2){if("x"===H(n)){const t=a[0],e=a[a.length-1],o="top"===F(n),i=t.top,r=e.bottom,l=o?t.left:e.left,c=o?t.right:e.right;return{top:i,bottom:r,left:l,right:c,width:c-l,height:r-i,x:l,y:i}}const t="left"===F(n),e=h(...a.map((t=>t.right))),o=d(...a.map((t=>t.left))),i=a.filter((n=>t?n.left===o:n.right===e)),r=i[0].top,l=i[i.length-1].bottom;return{top:r,bottom:l,left:o,right:e,width:e-o,height:l-r,x:o,y:r}}return u}},floating:o.floating,strategy:r});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},t.isElement=x,t.isRTL=N,t.limitShift=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:r,middlewareData:l}=e,{offset:c=0,mainAxis:s=!0,crossAxis:f=!0}=j(t,e),a={x:n,y:o},u=H(i),d=ct(u);let h=a[u],m=a[d];const p=j(c,e),g="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(s){const t="y"===u?"height":"width",e=r.reference[u]-r.floating[t]+g.mainAxis,n=r.reference[u]+r.reference[t]-g.mainAxis;h<e?h=e:h>n&&(h=n)}if(f){var y,x;const t="y"===u?"width":"height",e=["top","left"].includes(F(i)),n=r.reference[d]-r.floating[t]+(e&&(null==(y=l.offset)?void 0:y[d])||0)+(e?0:g.crossAxis),o=r.reference[d]+r.reference[t]+(e?0:(null==(x=l.offset)?void 0:x[d])||0)-(e?g.crossAxis:0);m<n?m=n:m>o&&(m=o)}return{[u]:h,[d]:m}}}},t.offset=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn(e){const{x:n,y:o}=e,i=function(t,e){const{placement:n,elements:o}=t,i=N(o.floating),r=F(n),l=D(n),c="x"===H(n),s=["left","top"].includes(r)?-1:1,f=i&&c?-1:1,a=j(e,t);let{mainAxis:u,crossAxis:d,alignmentAxis:h}="number"==typeof a?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return l&&"number"==typeof h&&(d="end"===l?-1*h:h),c?{x:d*f,y:u*s}:{x:u*s,y:d*f}}(e,t);return{x:n+i.x,y:o+i.y,data:i}}}},t.shift=function(t){return void 0===t&&(t={}),{name:"shift",options:t,fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:c={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...s}=j(t,e),f={x:n,y:o},a=$(e,s),u=H(F(i)),d=ct(u);let h=f[u],m=f[d];if(r){const t="y"===u?"bottom":"right";h=G(h+a["y"===u?"top":"left"],h,h-a[t])}if(l){const t="y"===d?"bottom":"right";m=G(m+a["y"===d?"top":"left"],m,m-a[t])}const p=c.fn({...e,[u]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-o}}}}},t.size=function(t){return void 0===t&&(t={}),{name:"size",options:t,fn(e){const{placement:n,rects:o,elements:i}=e,{apply:r=(()=>{}),...l}=j(t,e),c=$(e,l),s=F(n),f=D(n),a="x"===H(n),{width:u,height:m}=o.floating;let p,g;"top"===s||"bottom"===s?(p=s,g=f===(N(i.floating)?"start":"end")?"left":"right"):(g=s,p="end"===f?"top":"bottom");const x=m-c[p],w=u-c[g],v=!e.middlewareData.shift;let b=x,A=w;if(a){const t=u-c.left-c.right;A=f||v?d(w,t):t}else{const t=m-c.top-c.bottom;b=f||v?d(x,t):t}if(v&&!f){const t=h(c.left,0),e=h(c.right,0),n=h(c.top,0),o=h(c.bottom,0);a?A=u-2*(0!==t||0!==e?t+e:h(c.left,c.right)):b=m-2*(0!==n||0!==o?n+o:h(c.top,c.bottom))}r({...e,availableWidth:A,availableHeight:b});const L=y(i.floating);return u!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}}}));
